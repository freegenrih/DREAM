{%extends 'base.html'%}
{%block title%}Setings{%endblock title%}
{%block extralink%}

{%endblock extralink%}

{%block leftmenuhead%}<center><h4>Settings</h4></center>{%endblock leftmenuhead%}
{%block leftmenu%}
{%include 'left-settings-menus.html'%}
{%endblock leftmenu%}

{%block centermenuhead%}
<center><h4>Users</h4></center>
{%endblock centermenuhead%}

{%block centermenu%}
<br>

<div class="container-fluid">
    <div class="row">
        <div class="col-xs-3 col-xs-offset-1 ">
            <form method="post" action="/settings-users">
                <select class="btn-block" type="text" name="statusadmin">
                    <option value="User">
                        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspUser&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                    </option>
                    <option value="Admin">
                        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspAdmin&nbsp&nbsp&nbsp&nbsp&nbsp
                    </option>
                </select>
                <input type="email" name="email" placeholder="Email" required><br>
                <input type="text" name="username" placeholder="Username" required><br>
                <input type="password" name="password" placeholder="Password" required><br>
                <input type="password" name="re_password" placeholder="RepeatPassword" required><br>
                <input class="btn btn-primary btn-block" type="submit" name="submit" value="RegisterUser"><br>
            </form>

            {%if errors%}
                <div class="alert alert-danger">
                <center><h4 style="color: red">Errors:</h4></center>
                <ul>
                    {%if errors.username%}
                    <li><a style="color:red;">{{errors.username}}</a><br></li>
                    {%endif%}
                    {%if errors.email%}
                    <li><a style="color:red;">{{errors.email}}</a><br></li>
                    {%endif%}
                    {%if errors.emailbd%}
                    <li><a style="color:red;">{{errors.emailbd}}</a><br></li>
                    {%endif%}
                    {%if errors.password%}
                    <li><a style="color:red;">{{errors.password}}</a></li>
                    {%endif%}
                </ul>
                </div>
            {%endif%}

        </div>

        <div class="col-xs-3 ">
            <form method="post" action="/settings-users">
                <input type="text" name="email" placeholder="Email"><br>
                <input type="text" name="username" placeholder="Username"><br>
                <input type="password" name="old_password" placeholder="Old Password"><br>
                <input type="password" name="newpassword" placeholder="New Password"><br>
                <input type="password" name="re_newpassword" placeholder="Repeat New Password"><br>
                <input class="btn btn-primary btn-block" type="submit" name="submit" value="Update Password">
            </form>

            {%if errors_edit%}
            <div class="alert alert-danger">
                <center><h4 style="color: red">Errors:</h4></center>
                <ul>
                    {%if errors_edit.password%}
                    <li><a style="color:red;">{{errors_edit.password}}</a><br></li>
                    {%endif%}
                    {%if errors_edit.username%}
                    <li><a style="color:red;">{{errors_edit.username}}</a><br></li>
                    {%endif%}
                </ul>
            </div>
            {%endif%}

        </div>

        <div class="col-sm-3" style="padding-top:63px;">
            <form method="post" action="/settings-users">
                <input type="email" name="email" placeholder="Email Users" required><br>
                <input type="password" name="password" placeholder="Admin Password" required><br>
                <input type="password" name="re_password" placeholder="Return Password" required><br>
                <input class="btn btn-primary btn-block" type="submit" name="submit" value="DeleteUser">
            </form>
            {%if errors_delete%}
            <div class="alert alert-danger">
                <center><h4 style="color: red">Errors:</h4></center>
                <ul>
                    {%if errors_delete.password%}
                    <li><a style="color:red;">{{errors_delete.password}}</a><br></li>
                    {%endif%}
                </ul>
            </div>
            {%endif%}
        </div>


    </div>
</div>


<div class="col-xs-12">
    <div class="table-responsive">
        <table class="table" style="height: 100%;width: 100%;">
            <thead>
            <tr>
                <th>ID</th>
                <th>Email</th>
                <th>User Name</th>
                <th>Password</th>
                <th>Admin</th>
            </tr>
            </thead>
            <tbody>
            {%if data%}
            {%for row in data%}
            <tr>
                <th>{{row['id']}}</th>
                <th>{{row['email']}}</th>
                <th>{{row['username']}}</th>
                <th>{{row['password']}}</th>
                <th>{{row['statusadmin']}}</th>
            </tr>
            {%endfor%}
            {%endif%}
            </tbody>
        </table>
    </div>
</div>
{%endblock centermenu%}
